(this["webpackJsonpfitness-trac.kr"]=this["webpackJsonpfitness-trac.kr"]||[]).push([[0],{30:function(e,t,n){"use strict";n.r(t);var r=n(8),c=n(1),s=n(17),a=n.n(s),i=n(11),o=n(2),u=n(4),j=n(9),l="http://fitnesstrac-kr.herokuapp.com/api/",b=function(){var e=Object(j.a)(Object(u.a)().mark((function e(t){var n,r,c,s,a,i=arguments;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:"GET",r=i.length>2?i[2]:void 0,c=i.length>3?i[3]:void 0,s=!1,e.prev=4,e.next=7,fetch(l+t,O(d(n,c),r));case 7:return a=e.sent,e.next=10,a.json();case 10:if(!(s=e.sent).error){e.next=13;break}throw s.error;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),console.error(e.t0);case 18:return e.abrupt("return",s);case 19:case"end":return e.stop()}}),e,null,[[4,15]])})));return function(t){return e.apply(this,arguments)}}(),d=function(e,t){return{method:e.toUpperCase(),headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}},O=function(e,t){return t&&(e.headers=Object.assign(e.headers,{Authorization:"Bearer ".concat(t)})),e},h=function(){var e=Object(j.a)(Object(u.a)().mark((function e(){var t;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b("/activities","GET",null);case 2:return t=e.sent,console.log("data here:",t),e.abrupt("return",t||[]);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(j.a)(Object(u.a)().mark((function e(){var t;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b("/routines","GET",null);case 2:return t=e.sent,console.log("data here:",t),e.abrupt("return",t||[]);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=n(0),v=function(e){var t=e.token,n=e.setToken,s=e.user,a=e.setUser,i=Object(c.useState)(""),o=Object(r.a)(i,2),l=o[0],d=o[1],O=Object(c.useState)(""),h=Object(r.a)(O,2),p=h[0],v=h[1],f=Object(c.useState)(""),m=Object(r.a)(f,2),g=m[0],k=m[1],w=Object(c.useState)(!0),y=Object(r.a)(w,2),C=y[0],N=y[1],R=function(){var e=Object(j.a)(Object(u.a)().mark((function e(t){var r,c;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!C){e.next=8;break}return e.next=4,b("users/login","POST",null,{username:l,password:p});case 4:(r=e.sent).error?alert("".concat(r.name,". ").concat(r.message," If you are not an existing user, please register now.")):r.user&&r.token?(a(r.user),n(r.token),S()):alert("There was an error during login."),e.next=16;break;case 8:if(p!==g){e.next=15;break}return e.next=11,b("users/register","POST",null,{username:l,password:p});case 11:(c=e.sent).error?alert("".concat(c.name,". ").concat(c.message)):c.user&&c.token?(a(c.user),n(c.token),S()):alert("There was an error during registration."),e.next=16;break;case 15:alert("The password and password confirmation don't match!");case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){d(""),v(""),k("")};return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{children:"Account"}),s&&t?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h3",{children:"User Profile"}),Object(x.jsxs)("p",{children:["You are logged in as ",s.username,"."]}),Object(x.jsx)("p",{children:"Add whatever information/instructions we want."})]}):Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("form",{onSubmit:R,children:[Object(x.jsx)("h3",{children:C?"Login":"Register"}),Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{children:"Username:"}),Object(x.jsx)("input",{required:!0,type:"text",name:"username",placeholder:"Username",value:l,onChange:function(e){d(e.target.value)}})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{children:"Password:"}),Object(x.jsx)("input",{required:!0,type:"password",name:"password",placeholder:"Password",value:p,onChange:function(e){v(e.target.value)}})]}),C?null:Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{children:"Confirm Password:"}),Object(x.jsx)("input",{type:"password",name:"confirm-password",placeholder:"Password",onChange:function(e){k(e.target.value)}}),p&&p.length>0&&p.length<8?Object(x.jsx)("p",{style:{color:"red"},children:"Password must be at least 8 characters."}):null,p&&g&&p!==g?Object(x.jsx)("p",{style:{color:"red"},children:"Passwords don't match!"}):null]}),Object(x.jsx)("button",{type:"submit",children:C?"Login":"Register"}),C?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("p",{children:"New to Fitness Trackr?"}),Object(x.jsx)("p",{children:"Register a new account."}),Object(x.jsx)("button",{type:"submit",onClick:function(e){e.preventDefault(),N(!1)},children:"Register New User"})]}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("p",{children:"Already a Fitness Trac.kr user?"}),Object(x.jsx)("button",{type:"submit",onClick:function(e){e.preventDefault(),N(!0)},children:"Just Login"})]})]})})]})},f=function(e){var t=e.activities,n=e.setActivities;return Object(c.useEffect)((function(){Object(j.a)(Object(u.a)().mark((function e(){var t;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:t=e.sent,console.log(t),n(t);case 5:case"end":return e.stop()}}),e)})))()}),[]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{children:"Publicactivity"}),Object(x.jsx)("div",{children:t.map((function(e){return Object(x.jsx)("div",{children:Object(x.jsx)("div",{children:e.name})},e.id)}))})]})},m=function(){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{children:"Welcome to Fitness Tracker Yo!"}),Object(x.jsx)("h2",{children:"Sign up to create a personalized workout plan based on you daily activity to reach out goals!"})]})},g=function(){return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("h1",{children:"MyRoutines"})})},k=function(e){var t=e.routines,n=e.setRoutines;e.detailRoutines,e.setDetailRoutines,Object(o.e)();return Object(c.useEffect)((function(){Object(j.a)(Object(u.a)().mark((function e(){var t;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:t=e.sent,console.log(t),n(t);case 5:case"end":return e.stop()}}),e)})))()}),[]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{children:"PublicRoutines"}),Object(x.jsx)("div",{children:t.map((function(e){return Object(x.jsxs)("div",{onClick:function(t){handleRoutineClick(t,e)},children:[Object(x.jsxs)("div",{children:["Name: ",e.name]}),Object(x.jsxs)("div",{children:["Goal: ",e.goal]}),Object(x.jsxs)("div",{children:["Creator: ",e.creatorName]})]},e.id)}))})]})},w=function(e){var t=e.loggingOut,n=e.setLoggingOut,r=e.setUser,c=e.setToken;return t?Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{className:"logout-popup",style:{zIndex:"4"},children:Object(x.jsxs)("form",{children:[Object(x.jsx)("h3",{children:"Are you sure?"}),Object(x.jsx)("button",{onClick:function(e){e.preventDefault(),r(!1),c(""),n(!1)},children:"Logout"}),Object(x.jsx)("button",{onClick:function(e){e.preventDefault(),n(!1)},children:"Cancel"})]})})}):null},y=function(){var e=Object(c.useState)(!1),t=Object(r.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(""),u=Object(r.a)(a,2),j=u[0],l=u[1],b=Object(c.useState)([]),d=Object(r.a)(b,2),O=d[0],h=d[1],p=Object(c.useState)([]),y=Object(r.a)(p,2),C=y[0],N=y[1],R=Object(c.useState)([]),S=Object(r.a)(R,2),T=S[0],F=S[1],P=Object(c.useState)(!1),A=Object(r.a)(P,2),U=A[0],D=A[1],L=Object(c.useState)(!1),E=Object(r.a)(L,2);E[0],E[1];return Object(x.jsxs)("main",{children:[Object(x.jsxs)("nav",{children:[Object(x.jsx)(i.b,{to:"/home",className:"navlink",activeClassName:"active",children:"Home"}),Object(x.jsx)(i.b,{to:"/public-routines",className:"navlink",activeClassName:"active",children:"Public Routines"}),j&&n?Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(i.b,{to:"/my-routines",className:"navlink",activeClassName:"active",children:"My Routines"})}):null,Object(x.jsx)(i.b,{to:"/activities",className:"navlink",activeClassName:"active",children:"Activities"}),Object(x.jsx)(i.b,{to:"/account",className:"navlink",activeClassName:"active",children:j&&n?"My Account":"Login/Register"}),j&&n?Object(x.jsx)("input",{type:"button",value:"Logout",className:"navlink",onClick:function(e){e.preventDefault(),D(!0)}}):null]}),Object(x.jsx)(o.a,{exact:!0,path:"/",children:Object(x.jsx)(v,{})}),Object(x.jsx)(o.a,{path:"/home",children:Object(x.jsx)(m,{})}),Object(x.jsxs)(o.a,{path:"/public-routines",children:[Object(x.jsx)(o.a,{path:"/routines/:routineId"}),Object(x.jsx)(k,{routines:C,setRoutines:N,detailRoutines:T,setDetailRoutines:F})]}),Object(x.jsx)(o.a,{path:"/my-routines",children:Object(x.jsx)(g,{})}),Object(x.jsxs)(o.a,{path:"/activities",children:[Object(x.jsx)(o.a,{path:"/activities/:activityId"}),Object(x.jsx)(f,{activities:O,setActivities:h})]}),Object(x.jsx)(o.a,{path:"/account",children:Object(x.jsx)(v,{token:j,setToken:l,user:n,setUser:s})}),Object(x.jsx)(w,{loggingOut:U,setLoggingOut:D,setUser:s,setToken:l})]})};a.a.render(Object(x.jsx)(i.a,{children:Object(x.jsx)(y,{})}),document.getElementById("app"))}},[[30,1,2]]]);
//# sourceMappingURL=main.1c9f6943.chunk.js.map